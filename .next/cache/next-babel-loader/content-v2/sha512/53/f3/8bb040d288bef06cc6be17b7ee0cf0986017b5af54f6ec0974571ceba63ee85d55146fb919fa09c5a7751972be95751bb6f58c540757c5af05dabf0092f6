{"ast":null,"code":"const {\n  MongoClient,\n  ServerApiVersion\n} = require(\"mongodb\");\n\nasync function handler(req, res) {\n  //   if (req.method === \"POST\") {\n  //     const data = req.body;\n  //     const client = await MongoClient.connect(\n  //       \"mongodb+srv://test:123@cluster0.ytg5u.mongodb.net/meetups?retryWrites=true&w=majority\"\n  //     );\n  //     const db = client.db();\n  //     const meetupsCollection = db.collection(\"meetups\");\n  //     const result = meetupsCollection.insertOne({ data });\n  //     client.close(result);\n  //     res.status(201).json({ message: \"Meetup inserted!\" });\n  //   }\n  const uri = \"mongodb+srv://test:123@cluster0.ytg5u.mongodb.net/meetups?retryWrites=true&w=majority\";\n  const client = new MongoClient(uri, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n    serverApi: ServerApiVersion.v1\n  });\n  client.connect(err => {\n    const collection = client.db().collection(\"meetups\").insertOne(req.body); // perform actions on the collection object\n\n    client.close();\n  });\n}\n\nexport default handler;","map":{"version":3,"sources":["C:/Users/Александр/OneDrive/Робочий стіл/NEXT JS/pages/api/new-meetup.js"],"names":["MongoClient","ServerApiVersion","require","handler","req","res","uri","client","useNewUrlParser","useUnifiedTopology","serverApi","v1","connect","err","collection","db","insertOne","body","close"],"mappings":"AAAA,MAAM;AAAEA,EAAAA,WAAF;AAAeC,EAAAA;AAAf,IAAoCC,OAAO,CAAC,SAAD,CAAjD;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA,QAAMC,GAAG,GACP,uFADF;AAEA,QAAMC,MAAM,GAAG,IAAIP,WAAJ,CAAgBM,GAAhB,EAAqB;AAClCE,IAAAA,eAAe,EAAE,IADiB;AAElCC,IAAAA,kBAAkB,EAAE,IAFc;AAGlCC,IAAAA,SAAS,EAAET,gBAAgB,CAACU;AAHM,GAArB,CAAf;AAKAJ,EAAAA,MAAM,CAACK,OAAP,CAAgBC,GAAD,IAAS;AACtB,UAAMC,UAAU,GAAGP,MAAM,CAACQ,EAAP,GAAYD,UAAZ,CAAuB,SAAvB,EAAkCE,SAAlC,CAA4CZ,GAAG,CAACa,IAAhD,CAAnB,CADsB,CAEtB;;AACAV,IAAAA,MAAM,CAACW,KAAP;AACD,GAJD;AAKD;;AAED,eAAef,OAAf","sourcesContent":["const { MongoClient, ServerApiVersion } = require(\"mongodb\");\r\n\r\nasync function handler(req, res) {\r\n  //   if (req.method === \"POST\") {\r\n  //     const data = req.body;\r\n\r\n  //     const client = await MongoClient.connect(\r\n  //       \"mongodb+srv://test:123@cluster0.ytg5u.mongodb.net/meetups?retryWrites=true&w=majority\"\r\n  //     );\r\n  //     const db = client.db();\r\n\r\n  //     const meetupsCollection = db.collection(\"meetups\");\r\n\r\n  //     const result = meetupsCollection.insertOne({ data });\r\n\r\n  //     client.close(result);\r\n\r\n  //     res.status(201).json({ message: \"Meetup inserted!\" });\r\n  //   }\r\n  const uri =\r\n    \"mongodb+srv://test:123@cluster0.ytg5u.mongodb.net/meetups?retryWrites=true&w=majority\";\r\n  const client = new MongoClient(uri, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true,\r\n    serverApi: ServerApiVersion.v1,\r\n  });\r\n  client.connect((err) => {\r\n    const collection = client.db().collection(\"meetups\").insertOne(req.body);\r\n    // perform actions on the collection object\r\n    client.close();\r\n  });\r\n}\r\n\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}